{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}
    添加流程测试
{% endblock %}
{% block content %}
    <br>
    <br>
    <div class="col-md-8 order-md-1">
        <h4 class="mb-3">添加一个新的测试步骤</h4>
        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="name">步骤名称<label style="color: red;">*</label></label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="请输入步骤名称..."
                           required>
                    <div class="invalid-feedback">
                        Valid first name is required.
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="method">请求方法<label style="color: red;">*</label></label>
                    <select class="form-control" id="method" name="method">
                        <option>GET</option>
                        <option>POST</option>
                        <option>PUT</option>
                        <option>DELETE</option>
                    </select>
                </div>
            </div>
            <div class="mb-3">
                <label for="url">请求地址<label style="color: red;">*</label></label>
                <div class="radio">
                    {% for url in apiurl %}
                        <label class="radio-inline"><input type="radio" name="url" value="{{ url.name }}">{{ url.name }}</label>
                    {% endfor %}
                </div>
            </div>
            <div class="mb-3">
                <label for="route">请求路径<label style="color: red;">*</label></label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">/</span>
                    </div>
                    <input type="text" class="form-control" id="route" name="route" placeholder="请输入请求路径..." required>
                    <div class="invalid-feedback" style="width: 100%;">
                        Your username is required.
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="address">请求参数</label>
                <textarea class="form-control" rows="5" id="params" name="params"></textarea>
            </div>
            <div class="mb-3">
                <label for="address2">请求体</label>
                <textarea class="form-control" rows="5" id="body" name="body"></textarea>
            </div>
            <div class="mb-3">
                <label for="address2">预期结果<label style="color: red;">*</label></label>
                <input type="text" class="form-control" id="expected_result" name="expected_result" required>
            </div>
            <div class="mb-3">
                <label for="address2">预期正则</label>
                <input type="text" class="form-control" id="expected_regular" name="expected_regular">
            </div>
            <hr class="mb-4">
            <button class="btn btn-primary btn-lg btn-block" type="submit">确定添加新步骤</button>
        </form>
    </div>
{% endblock %}